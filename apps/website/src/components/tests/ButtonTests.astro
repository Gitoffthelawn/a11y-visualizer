---
import CategoryTitle from "./CategoryTitle.astro";
import CategorySectionTitle from "./CategorySectionTitle.astro";
import ExampleCard from "./ExampleCard.astro";
import { createLocalT } from "../../lib/i18n";
import { en, ja } from "./ButtonTests.lang";

interface Props {
  lang?: string;
}
const lang = (Astro.props as Props).lang || "en";
const t = createLocalT(lang === "ja" ? ja : en, en);

const buttonClasses =
  "bg-teal-700 text-white p-2 rounded-lg inline-block cursor-pointer hover:bg-teal-800 transition-colors outline-offset-2";
---

<CategoryTitle id="buttons">{t("title")}</CategoryTitle>
<p class="text-zinc-700 dark:text-zinc-300 mb-6">{t("intro")}</p>

<CategorySectionTitle id="button-element"
  >{t("sections.buttonElement.title")}</CategorySectionTitle
>

<ExampleCard
  title={t("examples.button.standard.title")}
  description={t("examples.button.standard.desc")}
>
  <button type="button" class={buttonClasses} onclick="window.alert('Hello!')"
    >Click Me</button
  >
</ExampleCard>

<ExampleCard
  title={t("examples.button.ariaHidden.title")}
  description={t("examples.button.ariaHidden.desc")}
>
  <button
    type="button"
    class={buttonClasses}
    onclick="window.alert('Hello!')"
    aria-hidden="true">Click Me</button
  >
</ExampleCard>

<ExampleCard
  title={t("examples.button.imgWithAlt.title")}
  description={t("examples.button.imgWithAlt.desc")}
>
  <button
    type="button"
    class="p-0 bg-transparent border-0 cursor-pointer"
    onclick="window.alert('Hello!')"
  >
    <img
      src="/a11y-visualizer/images/image-button@2x.png"
      alt="Click Me"
      width="112"
      height="48"
    />
  </button>
</ExampleCard>

<ExampleCard
  title={t("examples.button.imgNoAlt.title")}
  description={t("examples.button.imgNoAlt.desc")}
>
  <button
    type="button"
    class="p-0 bg-transparent border-0 cursor-pointer"
    onclick="window.alert('Hello!')"
  >
    <img
      src="/a11y-visualizer/images/image-button@2x.png"
      width="112"
      height="48"
    />
  </button>
</ExampleCard>

<CategorySectionTitle id="button-role"
  >{t("sections.buttonRole.title")}</CategorySectionTitle
>

<ExampleCard
  title={t("examples.role.divWithRole.title")}
  description={t("examples.role.divWithRole.desc")}
>
  <div
    class={buttonClasses}
    role="button"
    tabindex="0"
    onclick="window.alert('Hello!')"
    onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();window.alert('Hello!')}"
  >
    Click Me
  </div>
</ExampleCard>

<ExampleCard
  title={t("examples.role.divNoRole.title")}
  description={t("examples.role.divNoRole.desc")}
>
  <div
    class={buttonClasses}
    tabindex="0"
    onclick="window.alert('Hello!')"
    onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();window.alert('Hello!')}"
  >
    Click Me
  </div>
</ExampleCard>

<ExampleCard
  title={t("examples.role.divNoTabindex.title")}
  description={t("examples.role.divNoTabindex.desc")}
>
  <div
    class={buttonClasses}
    role="button"
    onclick="window.alert('Hello!')"
    onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();window.alert('Hello!')}"
  >
    Click Me
  </div>
</ExampleCard>

<CategorySectionTitle id="input-buttons"
  >{t("sections.inputElements.title")}</CategorySectionTitle
>

<ExampleCard
  title={t("examples.input.button.title")}
  description={t("examples.input.button.desc")}
>
  <input
    type="button"
    value="Click Me"
    class={buttonClasses}
    onclick="window.alert('Hello!')"
  />
</ExampleCard>

<ExampleCard
  title={t("examples.input.buttonNoValue.title")}
  description={t("examples.input.buttonNoValue.desc")}
>
  <input
    type="button"
    class={`${buttonClasses} w-20`}
    onclick="window.alert('Hello!')"
  />
</ExampleCard>

<ExampleCard
  title={t("examples.input.submit.title")}
  description={t("examples.input.submit.desc")}
>
  <input type="submit" value="✉️ Submit" class={buttonClasses} />
</ExampleCard>

<ExampleCard
  title={t("examples.input.submitNoValue.title")}
  description={t("examples.input.submitNoValue.desc")}
>
  <input type="submit" class={buttonClasses} />
</ExampleCard>

<ExampleCard
  title={t("examples.input.reset.title")}
  description={t("examples.input.reset.desc")}
>
  <input type="reset" value="🧹 Reset" class={buttonClasses} />
</ExampleCard>

<ExampleCard
  title={t("examples.input.resetNoValue.title")}
  description={t("examples.input.resetNoValue.desc")}
>
  <input type="reset" class={buttonClasses} />
</ExampleCard>

<ExampleCard
  title={t("examples.input.imageWithAlt.title")}
  description={t("examples.input.imageWithAlt.desc")}
>
  <input
    type="image"
    src="/a11y-visualizer/images/image-button@2x.png"
    alt="Click Me"
    width="112"
    height="48"
  />
</ExampleCard>

<ExampleCard
  title={t("examples.input.image.title")}
  description={t("examples.input.image.desc")}
>
  <input
    type="image"
    src="/a11y-visualizer/images/image-button@2x.png"
    width="112"
    height="48"
  />
</ExampleCard>

<CategorySectionTitle id="summary-element"
  >{t("sections.summary.title")}</CategorySectionTitle
>

<ExampleCard
  title={t("examples.summary.standard.title")}
  description={t("examples.summary.standard.desc")}
>
  <details
    class="border border-zinc-300 dark:border-zinc-600 rounded p-2 bg-white dark:bg-zinc-800"
  >
    <summary
      class="cursor-pointer text-zinc-900 dark:text-zinc-100 hover:text-zinc-600 dark:hover:zinc-blue-400 list-item"
      >Click Me</summary
    >
    <p class="mt-2 text-zinc-700 dark:text-zinc-300">
      Details content revealed when summary is clicked.
    </p>
  </details>
</ExampleCard>

<ExampleCard
  title={t("examples.summary.noSummary.title")}
  description={t("examples.summary.noSummary.desc")}
>
  <details
    class="border border-zinc-300 dark:border-zinc-600 rounded p-2 bg-white dark:bg-zinc-800"
  >
    <p class="mt-2 text-zinc-700 dark:text-zinc-300">
      Details content revealed when summary is clicked.
    </p>
  </details>
</ExampleCard>

<ExampleCard
  title={t("examples.summary.noDetails.title")}
  description={t("examples.summary.noDetails.desc")}
>
  <summary
    class="cursor-pointer text-zinc-900 dark:text-zinc-100 hover:text-blue-600 dark:hover:text-blue-400 border border-red-300 dark:border-red-600 p-1 list-item"
    >Click Me</summary
  >
</ExampleCard>

<ExampleCard
  title={t("examples.summary.noName.title")}
  description={t("examples.summary.noName.desc")}
>
  <details
    class="border border-zinc-300 dark:border-zinc-600 rounded p-2 bg-white dark:bg-zinc-800"
  >
    <summary
      class="w-full h-6 cursor-pointer border-red-300 dark:border-red-600 border-2 rounded inline-block"
    ></summary>
    <p class="mt-2 text-zinc-700 dark:text-zinc-300">
      Details content that can't be properly accessed.
    </p>
  </details>
</ExampleCard>
