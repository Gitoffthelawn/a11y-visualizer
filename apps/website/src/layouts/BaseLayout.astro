---
import type { Translation } from "../lib/translations";
import LanguageSelector from "../components/LanguageSelector";

interface Props {
  lang: string;
  t: Translation;
}

const { lang, t } = Astro.props;
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/a11y-visualizer/icon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{t.title}</title>
    <meta name="description" content={t.description} />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content={`https://ymrl.github.io/a11y-visualizer${lang === "en" ? "/" : `/${lang}/`}`}
    />
    <meta property="og:title" content={t.title} />
    <meta property="og:description" content={t.description} />
    <meta
      property="og:image"
      content="https://ymrl.github.io/a11y-visualizer/images/ogp.png"
    />
    <meta property="og:image:alt" content={t.hero.imageAlt} />
    <meta property="og:site_name" content="Accessibility Visualizer" />
    <meta
      property="og:locale"
      content={lang === "ja" ? "ja_JP" : lang === "ko" ? "ko_KR" : "en_US"}
    />
    <meta property="twitter:card" content="summary" />
    <meta
      property="twitter:url"
      content={`https://ymrl.github.io/a11y-visualizer${lang === "en" ? "/" : `/${lang}/`}`}
    />
    <meta property="twitter:title" content={t.title} />
    <meta property="twitter:description" content={t.description} />
    <meta
      property="twitter:image"
      content="https://ymrl.github.io/a11y-visualizer/images/ogp.png"
    />
    <meta property="twitter:image:alt" content={t.hero.imageAlt} />
    <meta name="color-scheme" content="light dark" />
    <script>
      // Dark mode script
      if (typeof window !== "undefined") {
        const theme =
          localStorage.getItem("theme") ||
          (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");
        document.documentElement.classList.toggle("dark", theme === "dark");
      }
    </script>
    <script>
      import "../scripts/language-redirect";
    </script>
  </head>
  <body
    class="bg-zinc-50 dark:bg-zinc-900 text-zinc-800 dark:text-zinc-300 transition-colors"
  >
    <div class="min-h-screen">
      <!-- Header -->
      <header
        class="bg-white dark:bg-zinc-900 shadow-sm border-b border-zinc-200 dark:border-zinc-700"
      >
        <div class="max-w-6xl mx-auto px-4 sm:px-2 lg:px-8 py-2">
          <div
            class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1 sm:gap-4"
          >
            <div class="flex items-center">
              <img
                src="/a11y-visualizer/icon.svg"
                alt=""
                class="w-12 h-12 mr-4"
              />
              <div>
                <h1 class="text-3xl font-bold text-teal-700 dark:text-teal-200">
                  {t.title}
                </h1>
                <p
                  class="text-sm sm:text-base text-zinc-600 dark:text-zinc-400"
                >
                  {t.subtitle}
                </p>
              </div>
            </div>
            <div class="flex-shrink-0 self-end sm:self-auto">
              <LanguageSelector currentLang={lang} client:load />
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main>
        <!-- Hero Section -->
        <section
          class="bg-gradient-to-br from-teal-50 to-zinc-50 dark:from-zinc-800 dark:to-zinc-900 py-16"
        >
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2
              class="text-4xl font-bold text-zinc-900 dark:text-zinc-100 mb-4"
            >
              {t.hero.title}
            </h2>
            <p
              class="text-xl text-zinc-600 dark:text-zinc-400 mb-8 max-w-3xl mx-auto"
            >
              {t.hero.description}
            </p>
            <div class="flex justify-center">
              <img
                src={t.hero.screenshotSrc}
                alt={t.hero.imageAlt}
                class="rounded-lg max-w-full h-auto"
              />
            </div>
          </div>
        </section>

        <!-- Features Section -->
        <section class="py-16 bg-white dark:bg-zinc-900">
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2
              class="text-3xl font-bold text-center text-zinc-900 dark:text-zinc-100 mb-12"
            >
              {t.features.title}
            </h2>
            <div class="grid md:grid-cols-2 gap-8">
              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-800 rounded-full flex items-center justify-center"
                >
                  <span class="text-teal-600 dark:text-teal-200 font-semibold"
                    >1</span
                  >
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2"
                  >
                    {t.features.items.visual.title}
                  </h3>
                  <p class="text-zinc-600 dark:text-zinc-400">
                    {t.features.items.visual.description}
                  </p>
                </div>
              </div>
              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-800 rounded-full flex items-center justify-center"
                >
                  <span class="text-teal-600 dark:text-teal-200 font-semibold"
                    >2</span
                  >
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2"
                  >
                    {t.features.items.detection.title}
                  </h3>
                  <p class="text-zinc-600 dark:text-zinc-400">
                    {t.features.items.detection.description}
                  </p>
                </div>
              </div>
              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-800 rounded-full flex items-center justify-center"
                >
                  <span class="text-teal-600 dark:text-teal-200 font-semibold"
                    >3</span
                  >
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2"
                  >
                    {t.features.items.liveRegions.title}
                  </h3>
                  <p class="text-zinc-600 dark:text-zinc-400">
                    {t.features.items.liveRegions.description}
                  </p>
                </div>
              </div>
              <div class="flex items-start space-x-4">
                <div
                  class="flex-shrink-0 w-8 h-8 bg-teal-100 dark:bg-teal-800 rounded-full flex items-center justify-center"
                >
                  <span class="text-teal-600 dark:text-teal-200 font-semibold"
                    >4</span
                  >
                </div>
                <div>
                  <h3
                    class="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-2"
                  >
                    {t.features.items.customizable.title}
                  </h3>
                  <p class="text-zinc-600 dark:text-zinc-400">
                    {t.features.items.customizable.description}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Download Section -->
        <section class="py-16 bg-zinc-50 dark:bg-zinc-800">
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2
              class="text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-8"
            >
              {t.download.title}
            </h2>
            <div
              class="flex flex-col sm:flex-row gap-6 justify-center items-center"
            >
              <a
                href="https://chromewebstore.google.com/detail/accessibility-visualizer/idcacekakoknnpbfjcdhnkffgfbddnhk"
                class="inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200"
              >
                {t.download.chromeStore}
              </a>
              <a
                href="https://addons.mozilla.org/ja/firefox/addon/accessibility-visualizer/"
                class="inline-flex items-center px-6 py-3 bg-orange-700 hover:bg-orange-800 text-white font-semibold rounded-lg shadow-md transition-colors duration-200"
              >
                {t.download.firefoxAddons}
              </a>
            </div>
          </div>
        </section>

        <!-- Guide Section -->
        <section class="py-16 bg-white dark:bg-zinc-900">
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2
              class="text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-4"
            >
              {t.guide.title}
            </h2>
            <p class="text-lg text-zinc-600 dark:text-zinc-400 mb-8">
              {t.guide.description}
            </p>
            <a
              href={t.guide.url}
              class="inline-flex items-center px-6 py-3 bg-teal-700 hover:bg-teal-800 text-white font-semibold rounded-lg shadow-md transition-colors duration-200"
            >
              {t.guide.link}
            </a>
          </div>
        </section>

        <!-- Test Examples Section -->
        <section class="py-16 bg-zinc-50 dark:bg-zinc-800">
          <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2
              class="text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-4"
            >
              {t.tests.title}
            </h2>
            <p class="text-lg text-zinc-600 dark:text-zinc-400 mb-8">
              {t.tests.description}
            </p>
            <a
              href={t.tests.url}
              class="inline-flex items-center px-6 py-3 bg-zinc-700 hover:bg-zinc-800 text-white font-semibold rounded-lg shadow-md transition-colors duration-200"
            >
              {t.tests.link}
            </a>
          </div>
        </section>
      </main>

      <!-- Footer -->
      <footer
        class="bg-zinc-900 dark:bg-zinc-950 text-zinc-300 dark:text-zinc-400 py-8"
      >
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <p>
            {t.footer.copyright}
            <a
              href="https://github.com/ymrl/a11y-visualizer"
              class="text-teal-400 dark:text-teal-300 hover:text-teal-300 dark:hover:text-teal-200 underline"
            >
              {t.footer.github}
            </a>.
          </p>
        </div>
      </footer>
    </div>
  </body>
</html>
